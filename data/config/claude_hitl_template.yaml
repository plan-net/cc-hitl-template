# Kodosumi service configuration for Claude HITL Template
# This file configures the deployment of the Claude + Kodosumi HITL service

name: claude_hitl_template
route_prefix: /claude-hitl
import_path: claude_hitl_template.query:fast_app

# Runtime environment configuration
# Environment variables made available to the Ray Serve application
# These must match the values in .env for consistency
runtime_env:
  env_vars:
    # Container image URI with digest for Ray actors
    # Must match CONTAINER_IMAGE_URI in .env
    CONTAINER_IMAGE_URI: "ghcr.io/plan-net/claude-hitl-worker@sha256:f6b4fa30a81e54198d40dc01539f2c899a534b0c49f542e5a2566a2efbd67400"

    # Claude API key (passed through from host environment)
    ANTHROPIC_API_KEY: "${ANTHROPIC_API_KEY}"

# Ray Serve deployment configuration
# Adjust these based on your resource requirements
num_replicas: 1
max_concurrent_queries: 10

# Resource allocation (optional)
# ray_actor_options:
#   num_cpus: 1
#   num_gpus: 0
